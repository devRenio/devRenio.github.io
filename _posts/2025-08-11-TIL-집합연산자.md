---
layout: blog
title: 4.2 집합연산자
date: 2025-08-11 21:00:00 +0900
categories: [TIL, sqld, 4_SQL_활용]
permalink: /blog/posts/25-08-11-TIL
---

### 4.2.1 집합연산자의 개념

**집합연산자** : 두 테이블에 대한 집합 연산(합집합, 교집합 등)을 수행하는 연산자. 스키마 구성이 동일한(같은 수의 칼럼을 가지고, 대응되는 칼럼간의 데이터 타입이 같은) 테이블에 대해서 기준키 없이 모든 레코드들에 대하여 집합 연산을 수행한다. 이때 반환되는 칼럼의 이름은 첫번째 테이블을 따른다.

이후의 집합연산자 예제에서는 아래 테이블을 사용한다.

<table style="width:75%" border="1">
  <caption>CLUB1</caption>
  <thead>
    <tr>
      <th>NAME</th>
      <th>TEL</th>
      <th>CLASS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>공은호</td>
      <td>010-2334-4233</td>
      <td>1</td>
    </tr>
    <tr>
      <td>홍길동</td>
      <td>010-3765-2345</td>
      <td>2</td>
    </tr>
    <tr>
      <td>남기은</td>
      <td>010-1221-7766</td>
      <td>2</td>
    </tr>
    <tr>
      <td>남윤지</td>
      <td>010-4533-0765</td>
      <td>1</td>
    </tr>
    <tr>
      <td>백준혁</td>
      <td>010-3887-6532</td>
      <td>3</td>
    </tr>
  </tbody>
</table>

<table style="width:75%" border="1">
  <caption>CLUB2</caption>
  <thead>
    <tr>
      <th>NAME</th>
      <th>TEL</th>
      <th>CLASS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>남기은</td>
      <td>010-1221-7766</td>
      <td>2</td>
    </tr>
    <tr>
      <td>안현준</td>
      <td>010-3478-9233</td>
      <td>2</td>
    </tr>
    <tr>
      <td>박채민</td>
      <td>010-8787-0087</td>
      <td>1</td>
    </tr>
    <tr>
      <td>백준혁</td>
      <td>010-3887-6532</td>
      <td>3</td>
    </tr>
    <tr>
      <td>권소은</td>
      <td>010-3890-2675</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
<br>

### 4.2.2 UNION ALL / UNION

**UNION ALL / UNION** : 합집합 연산을 수행한다. 중복 레코드를 중복된 만큼 포함시키는 것이 UNION ALL, 하나만 포함시키는 것이 UNION이다. UNION을 사용하면 같은 테이블 내의 중복까지 제거되므로 주의해야 한다.

<b>SELECT NAME, TEL, CLASS FROM CLUB1<br>
UNION ALL SELECT NAME, TEL, CLASS FROM CLUB2;</b><br>
=> 두 테이블을 병합한다. 중복을 포함하여 전체 10건이 출력된다.

<table style="width:75%" border="1">
  <caption>실행결과</caption>
  <thead>
    <tr>
      <th>NAME</th>
      <th>TEL</th>
      <th>CLASS</th>
    </tr>
  </thead>
  <tbody>
  <tr>
      <td>공은호</td>
      <td>010-2334-4233</td>
      <td>1</td>
    </tr>
    <tr>
      <td>홍길동</td>
      <td>010-3765-2345</td>
      <td>2</td>
    </tr>
    <tr>
      <td>남기은</td>
      <td>010-1221-7766</td>
      <td>2</td>
    </tr>
    <tr>
      <td>남윤지</td>
      <td>010-4533-0765</td>
      <td>1</td>
    </tr>
    <tr>
      <td>백준혁</td>
      <td>010-3887-6532</td>
      <td>3</td>
    </tr>
    <tr>
      <td>남기은</td>
      <td>010-1221-7766</td>
      <td>2</td>
    </tr>
    <tr>
      <td>안현준</td>
      <td>010-3478-9233</td>
      <td>2</td>
    </tr>
    <tr>
      <td>박채민</td>
      <td>010-8787-0087</td>
      <td>1</td>
    </tr>
    <tr>
      <td>백준혁</td>
      <td>010-3887-6532</td>
      <td>3</td>
    </tr>
    <tr>
      <td>권소은</td>
      <td>010-3890-2675</td>
      <td>3</td>
    </tr>
  </tbody>
</table>

<b>SELECT NAME, TEL, CLASS FROM CLUB1<br>
UNION SELECT NAME, TEL, CLASS FROM CLUB2;</b><br>
=> 두 테이블을 병합한다. 중복을 제거하여 8건이 출력된다.

<table style="width:75%" border="1">
  <caption>실행결과</caption>
  <thead>
    <tr>
      <th>NAME</th>
      <th>TEL</th>
      <th>CLASS</th>
    </tr>
  </thead>
  <tbody>
  <tr>
      <td>공은호</td>
      <td>010-2334-4233</td>
      <td>1</td>
    </tr>
    <tr>
      <td>홍길동</td>
      <td>010-3765-2345</td>
      <td>2</td>
    </tr>
    <tr>
      <td>남기은</td>
      <td>010-1221-7766</td>
      <td>2</td>
    </tr>
    <tr>
      <td>남윤지</td>
      <td>010-4533-0765</td>
      <td>1</td>
    </tr>
    <tr>
      <td>백준혁</td>
      <td>010-3887-6532</td>
      <td>3</td>
    </tr>
    <tr>
      <td>안현준</td>
      <td>010-3478-9233</td>
      <td>2</td>
    </tr>
    <tr>
      <td>박채민</td>
      <td>010-8787-0087</td>
      <td>1</td>
    </tr>
    <tr>
      <td>권소은</td>
      <td>010-3890-2675</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
<br>

### 4.2.3 INTERSECT

**INTERSECT** : 교집합 연산을 수행한다.

<b>SELECT NAME, TEL, CLASS FROM CLUB1<br>
INTERSECT SELECT NAME, TEL, CLASS FROM CLUB2;</b><br>
=> 중복 데이터만 추출하므로 2건이 출력된다.

<table style="width:75%" border="1">
  <caption>실행결과</caption>
  <thead>
    <tr>
      <th>NAME</th>
      <th>TEL</th>
      <th>CLASS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>남기은</td>
      <td>010-1221-7766</td>
      <td>2</td>
    </tr>
    <tr>
      <td>백준혁</td>
      <td>010-3887-6532</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
<br>

### 4.2.4 MINUS / EXCEPT

**MINUS / EXCEPT** : 차집합 연산을 수행한다. 왼쪽 테이블에만 존재하는 데이터들을 반환한다.

<b>SELECT NAME, TEL, CLASS FROM CLUB1<br>
MINUS SELECT NAME, TEL, CLASS FROM CLUB2;</b><br>
=> 왼쪽 테이블에서 중복 데이터를 제외하여 3건이 출력된다.

<table style="width:75%" border="1">
  <caption>실행결과</caption>
  <thead>
    <tr>
      <th>NAME</th>
      <th>TEL</th>
      <th>CLASS</th>
    </tr>
  </thead>
  <tbody>
  <tr>
      <td>공은호</td>
      <td>010-2334-4233</td>
      <td>1</td>
    </tr>
    <tr>
      <td>홍길동</td>
      <td>010-3765-2345</td>
      <td>2</td>
    </tr>
    <tr>
      <td>남윤지</td>
      <td>010-4533-0765</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
